apiVersion: v1
kind: Secret
metadata:
  name: postgres-credentials
  labels:
    app.kubernetes.io/name: postgres
    app.kubernetes.io/component: database
stringData:
  POSTGRES_USER: vercel
  POSTGRES_PASSWORD: vercel
  POSTGRES_DB: vercel
---
apiVersion: v1
kind: Secret
metadata:
  name: api-env
  labels:
    app.kubernetes.io/name: api
    app.kubernetes.io/component: backend
stringData:
  DATABASE_URL: postgres://vercel:vercel@postgres.peep.svc.cluster.local:5432/vercel?sslmode=disable
  BUILDER_AUTH_TOKEN: dev-builder-token
  RATE_LIMIT_REDIS_ADDR: redis.peep.svc.cluster.local:6379
  DOCKER_HOST: unix:///var/run/docker.sock
  NGINX_RELOAD_COMMAND: ""
  NGINX_CONTAINER_NAME: ""
  RUNTIME_DEPLOYMENT_TTL_SECONDS: "60"
  RUNTIME_CONTAINER_TTL_SECONDS: "60"
  ACCESS_TOKEN_TTL_MIN: "720"
  REFRESH_TOKEN_TTL_HOURS: "720"
---
apiVersion: v1
kind: Secret
metadata:
  name: builder-env
  labels:
    app.kubernetes.io/name: builder
    app.kubernetes.io/component: backend
stringData:
  DATABASE_URL: postgres://vercel:vercel@postgres.peep.svc.cluster.local:5432/vercel?sslmode=disable
  BUILDER_AUTH_TOKEN: dev-builder-token
  DEPLOY_CALLBACK_URL: http://api.peep.svc.cluster.local:4000/builder/callback
  LOG_CALLBACK_URL: http://api.peep.svc.cluster.local:4000/logs
  DOCKER_HOST: unix:///var/run/docker.sock
  BUILDER_WORKDIR: /tmp/peep
  CALLBACK_SUPPRESSION_TTL_SECONDS: "300"
---
apiVersion: v1
kind: Secret
metadata:
  name: dashboard-env
  labels:
    app.kubernetes.io/name: dashboard
    app.kubernetes.io/component: frontend
stringData:
  NEXT_PUBLIC_API_BASE_URL: https://peep.com/api
  API_INTERNAL_BASE_URL: http://api.peep.svc.cluster.local:4000
  NEXT_TELEMETRY_DISABLED: "1"
