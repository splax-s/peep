apiVersion: v1
kind: Secret
metadata:
  name: peep-tls
  labels:
    app.kubernetes.io/name: peep
    app.kubernetes.io/component: ingress
type: kubernetes.io/tls
stringData:
  tls.crt: |-
    -----BEGIN CERTIFICATE-----
    MIIDSjCCAjKgAwIBAgIUGQ4dooqZn2h8RtnE7aQGi0+HpUcwDQYJKoZIhvcNAQEL
    BQAwJDETMBEGA1UEAwwKKi5wZWVwLmNvbTENMAsGA1UECgwEcGVlcDAeFw0yNTEx
    MTAxNzQzMzFaFw0yNjExMTAxNzQzMzFaMCQxEzARBgNVBAMMCioucGVlcC5jb20x
    DTALBgNVBAoMBHBlZXAwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCp
    BjkI1VxlnUV6eS/KIGIZ8czN6kvajU26PMEENynEOiq8BfsXzV/2igegCATsVC/x
    4ajRjtSIX6gDCEBZMDIdwepGzEBNcdXBJoVHsDf/0VBYHZ/dYbwH4J/1xXTsYz0b
    cyuVai6VAxQHP1qJNB745mOczv/MS41v8J/cjF079zdDyoZNFAGRV5oo1uCsK/Ke
    zmsAv43H4rB8GbIxcbPpkcdqIdfWt9RsKBVF4i//npgKNLoQNivxEm7TYvzQ6EqX
    veW6Nbey5BpAiIfX9tbrgHNKIODnydaOAMVHTsUdewoMk2/eZ0e7BDFu8EbBIuNJ
    QuFNQ5CSlSDWR2Arog35AgMBAAGjdDByMB0GA1UdDgQWBBSMTxruGpDxVpUi1h+R
    Csv+f0iCODAfBgNVHSMEGDAWgBSMTxruGpDxVpUi1h+RCsv+f0iCODAPBgNVHRMB
    Af8EBTADAQH/MB8GA1UdEQQYMBaCCioucGVlcC5jb22CCHBlZXAuY29tMA0GCSqG
    SIb3DQEBCwUAA4IBAQA4ALzadWEqNJW4MzlpcIJRPDdo/HYmkpQnBZ8uWYPix1oX
    ZzTENEEP21E59/chK/s3nT981wnctwCil/+08VmxtkEJCgm2+2XS9kTriYVCea+k
    kUVdzgGlq/IE7mZIurJUhf4a/ZZf2GBcPTGFc0EZeVdc8Dq0HNwz/zwhxznqe6t1
    a3avLQH+pUR5Pf0En2Ye35o+4V+uZVMZdFfwfFkAwNMBvozygZ9p3aH5tsevzP5Y
    HDvcIjRfv5hvSRNuQB9D+1C0uJkozCvzJcg30H/FJoUZcN45yhB0p3kh2qLfOOVt
    CRCYmAU6kIsKYKVSokT14HsLvvWRbxXPTd1mN/5M
    -----END CERTIFICATE-----
  tls.key: |-
    -----BEGIN PRIVATE KEY-----
    MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCpBjkI1VxlnUV6
    eS/KIGIZ8czN6kvajU26PMEENynEOiq8BfsXzV/2igegCATsVC/x4ajRjtSIX6gD
    CEBZMDIdwepGzEBNcdXBJoVHsDf/0VBYHZ/dYbwH4J/1xXTsYz0bcyuVai6VAxQH
    P1qJNB745mOczv/MS41v8J/cjF079zdDyoZNFAGRV5oo1uCsK/KezmsAv43H4rB8
    GbIxcbPpkcdqIdfWt9RsKBVF4i//npgKNLoQNivxEm7TYvzQ6EqXveW6Nbey5BpA
    iIfX9tbrgHNKIODnydaOAMVHTsUdewoMk2/eZ0e7BDFu8EbBIuNJQuFNQ5CSlSDW
    R2Arog35AgMBAAECggEAFv3idL3nLWhdCtmgw08v4QUX/ZulGVPW0qJQhCUH0Koz
    5XMv0m9MojHo8x8cIlSaV/4A846JAQr4BP+Slz871fnqhxpiFdbKA5Xck+GX4HvF
    wNK4zAmvJOgsgidLrhsatRjvwQmaUAlE6G54/4hgPS3Dt5Ed0Rmm4eb6q+rJBO61
    lQPFnJcmiaSIiRgc1ZOZ7eOkhM4Fdd7yfGi6Y8LhhaYQLem8HZNRR4y+ckZLagY3
    u2nNPNtL9OP+9wmFrSp+jVqT0mlG6qGNjF719liaMrTn00eiaIrhhFnTpLOIlrq5
    Irs32lH2v/E5Ilq6A3yMl8eVDto/LkojzZOCtUmtTQKBgQDRxtn5Yr3t9uU2NQYB
    Nadp2v2vBOyKc5/LCJb1cYYaFP5XXLusBTEsRTQkk9M5Klan6EExzpLXvnMFh46W
    pBnXMr0IYsEqt1I4AomTjAC69GiPIQuXbIunKdgWoiGyTaM9KaAVW3Bhoy394Pmc
    CFotRrbETQMhhpF3y80uNoXaBQKBgQDORJhQxdDUHCgyRO+FyIFKAzZJFzYgnafy
    SM9zsCszIAh71X2aXFff7jVgwPhAUQm3afMcjQDbSCAhOWE2F1JW03b0u0N+XIn9
    H3osl/x/VGIHbu4OEbV1CyR0MSu+g62P85a7wGbBKpxiwx1Q2s+sJMIIeHi3kbzU
    GitGL9MCZQKBgBf/QGYn5oQ3TycxT5uJ0LnqRETmMkzwRyJJvEMdlnKbXjEOOaXG
    /kYLMJjSlEIg1sLkbbjN4bxuW+gRBr2yzgXxFvDDo0dIq04e9C/9vwOj++YLqLDM
    yPj5b2+/Yk1sVjUj8t0ela+FpDg7qTIxPmeZhETWbnpCU5e5p6IWuJ8lAoGAP+Ag
    JwtLQxRBImgUoKJZ31ilS/cjLPCFnNMNYy8QAbIOzoJrdgzYraDv6Ll5ZzlxP9pQ
    jevgcwef44oIX57TQc4UjW8cVJpFpRxFUl/ysl+oR9MDZ1n2jntX25+Kg2H1spll
    eVj4uSL/8NmpT2ujWhS7/bGI+JfqGOjNs9uFhb0CgYEAxd1+we8ZWvUuWOppawNq
    CSOy9YbIcZT3yNw4gzjblQg39tPt3fIT8mb5eVzM1P6eVXwYbo9XT3XkogF/jWto
    esaZfdg14YUwdglEr7SMzNVgeW8ENTzYVNfkHhgqp4vRm+/R1rJ0RLqOLv2swN3i
    +vjI5Fx+L8bcMCons1RD0gI=
    -----END PRIVATE KEY-----
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-credentials
  labels:
    app.kubernetes.io/name: postgres
    app.kubernetes.io/component: database
stringData:
  POSTGRES_USER: vercel
  POSTGRES_PASSWORD: vercel
  POSTGRES_DB: vercel
---
apiVersion: v1
kind: Secret
metadata:
  name: api-env
  labels:
    app.kubernetes.io/name: api
    app.kubernetes.io/component: backend
stringData:
  DATABASE_URL: postgres://vercel:vercel@postgres.peep.svc.cluster.local:5432/vercel?sslmode=disable
  BUILDER_AUTH_TOKEN: dev-builder-token
  RATE_LIMIT_REDIS_ADDR: redis.peep.svc.cluster.local:6379
  DOCKER_HOST: unix:///var/run/docker.sock
  NGINX_RELOAD_COMMAND: ""
  NGINX_CONTAINER_NAME: ""
  RUNTIME_DEPLOYMENT_TTL_SECONDS: "300"
  RUNTIME_CONTAINER_TTL_SECONDS: "600"
  ACCESS_TOKEN_TTL_MIN: "720"
  REFRESH_TOKEN_TTL_HOURS: "720"
---
apiVersion: v1
kind: Secret
metadata:
  name: builder-env
  labels:
    app.kubernetes.io/name: builder
    app.kubernetes.io/component: backend
stringData:
  DATABASE_URL: postgres://vercel:vercel@postgres.peep.svc.cluster.local:5432/vercel?sslmode=disable
  BUILDER_AUTH_TOKEN: dev-builder-token
  DEPLOY_CALLBACK_URL: http://api.peep.svc.cluster.local:4000/builder/callback
  LOG_CALLBACK_URL: http://api.peep.svc.cluster.local:4000/logs
  DOCKER_HOST: unix:///var/run/docker.sock
  BUILDER_WORKDIR: /tmp/peep
  CALLBACK_SUPPRESSION_TTL_SECONDS: "300"
---
apiVersion: v1
kind: Secret
metadata:
  name: dashboard-env
  labels:
    app.kubernetes.io/name: dashboard
    app.kubernetes.io/component: frontend
stringData:
  NEXT_PUBLIC_API_BASE_URL: https://peep.com/api
  API_INTERNAL_BASE_URL: http://api.peep.svc.cluster.local:4000
  NEXT_TELEMETRY_DISABLED: "1"
